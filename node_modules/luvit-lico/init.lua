function lico (req, path, config)
  local resolve = require('./url-resolver')
  local page_renderer = require('./utils/page-renderer')
  -- returns false if no md file is found
  local target = resolve(req.url)
  if target then
    return page_renderer(target, config)
  else
    -- nothing was found, serve the 404 markdown file
    return page_renderer('content/404.md', config)
  end
end

return lico